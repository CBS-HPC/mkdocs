
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../../images/CBS_logo2.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Reference - HPC & Data Science Support</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://example.com" title="HPC &amp; Data Science Support" class="md-header__button md-logo" aria-label="HPC & Data Science Support" data-md-component="logo">
      
  <img src="../../../images/CBS_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HPC & Data Science Support
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/CBS-HPC/CBS-HPC.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CBS-HPC/CBS-HPC.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../news/" class="md-tabs__link">
      News
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../events/" class="md-tabs__link">
      Teaching Events
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../hpc/" class="md-tabs__link">
      HPC Facilites
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../getresources/" class="md-tabs__link">
      Get Resources
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../tut_docs/" class="md-tabs__link">
      Tutorials & Documentation
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../contact/" class="md-tabs__link">
      Contact
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../LICENSE/" class="md-tabs__link">
      License
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://example.com" title="HPC &amp; Data Science Support" class="md-nav__button md-logo" aria-label="HPC & Data Science Support" data-md-component="logo">
      
  <img src="../../../images/CBS_logo.png" alt="logo">

    </a>
    HPC & Data Science Support
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CBS-HPC/CBS-HPC.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CBS-HPC/CBS-HPC.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../news/" class="md-nav__link">
        News
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../events/" class="md-nav__link">
        Teaching Events
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../hpc/" class="md-nav__link">
        HPC Facilites
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../getresources/" class="md-nav__link">
        Get Resources
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../tut_docs/" class="md-nav__link">
        Tutorials & Documentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../LICENSE/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#moodys_datahub.tools" class="md-nav__link">
    tools
  </a>
  
    <nav class="md-nav" aria-label="tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp" class="md-nav__link">
    Sftp
  </a>
  
    <nav class="md-nav" aria-label="Sftp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.__init__" class="md-nav__link">
    __init__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.connect" class="md-nav__link">
    connect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.copy_obj" class="md-nav__link">
    copy_obj
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.define_options" class="md-nav__link">
    define_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.download_all" class="md-nav__link">
    download_all
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.get_column_names" class="md-nav__link">
    get_column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.orbis_to_moodys" class="md-nav__link">
    orbis_to_moodys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.process_all" class="md-nav__link">
    process_all
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.process_one" class="md-nav__link">
    process_one
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.search_bvd_changes" class="md-nav__link">
    search_bvd_changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.search_company_names" class="md-nav__link">
    search_company_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.search_country_codes" class="md-nav__link">
    search_country_codes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.search_dictionary" class="md-nav__link">
    search_dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.select_columns" class="md-nav__link">
    select_columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.select_data" class="md-nav__link">
    select_data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.table_dates" class="md-nav__link">
    table_dates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.Sftp.tables_available" class="md-nav__link">
    tables_available
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moodys_datahub.tools.fuzzy_query" class="md-nav__link">
    fuzzy_query
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<h2 id="moodys_datahub.tools" class="doc doc-heading">
            <code>moodys_datahub.tools</code>


<a href="#moodys_datahub.tools" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="moodys_datahub.tools.Sftp" class="doc doc-heading">
            <code>Sftp</code>


<a href="#moodys_datahub.tools.Sftp" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>A class to manage SFTP connections and file operations for data transfer.</p>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">hostname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">privatekey</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data_product_template</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.__init__" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Constructor Method</p>


<details class="constructor-parameters" open>
  <summary>Constructor Parameters</summary>
  <ul>
<li><code>hostname</code> (str, optional): Hostname of the SFTP server (default is CBS SFTP server).</li>
<li><code>username</code> (str, optional): Username for authentication (default is CBS SFTP server).</li>
<li><code>port</code> (int, optional): Port number for the SFTP connection (default is 22).</li>
<li><code>privatekey</code> (str, optional): Path to the private key file for authentication (required for SFTP access).</li>
<li><code>data_product_template</code> (str, optional): Template for managing data products during SFTP operations.</li>
</ul>
<p>Object Attributes:
- <code>connection</code> (pysftp.Connection or None): Represents the current SFTP connection, initially set to <code>None</code>.
- <code>hostname</code> (str): Hostname for the SFTP server.
- <code>username</code> (str): Username for SFTP authentication.
- <code>privatekey</code> (str or None): Path to the private key file for SFTP authentication.
- <code>port</code> (int): Port number for SFTP connection (default is 22).</p>
<p>File Handling Attributes:
- <code>output_format</code> (list of str): Supported output formats for files (default is ['.csv']).
- <code>file_size_mb</code> (int): Maximum file size in MB before splitting files (default is 500 MB).
- <code>delete_files</code> (bool): Flag indicating whether to delete processed files (default is <code>False</code>).
- <code>concat_files</code> (bool): Flag indicating whether to concatenate processed files (default is <code>True</code>).
- <code>query</code> (str, function, or None): Query string or function for filtering data (default is <code>None</code>).
- <code>query_args</code> (list or None): List of arguments for the query string or function (default is <code>None</code>).
- <code>dfs</code> (DataFrame or None): Stores concatenated DataFrames if concatenation is enabled.</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.connect" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">connect</span><span class="p">()</span></code>

<a href="#moodys_datahub.tools.Sftp.connect" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Establish an SFTP connection.</p>
<p>Input Variables:
- <code>self</code>: Implicit reference to the instance.</p>
<p>Returns:
- SFTP connection object.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.copy_obj" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">copy_obj</span><span class="p">()</span></code>

<a href="#moodys_datahub.tools.Sftp.copy_obj" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Create a deep copy of the current instance and initialize its defaults.</p>
<p>This method creates a deep copy of the instance, calls the 
<code>_object_defaults()</code> method to set default values, and then 
invokes the <code>select_data()</code> method to prepare the copied object 
for use.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.define_options" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">define_options</span><span class="p">()</span></code>

<a href="#moodys_datahub.tools.Sftp.define_options" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Asynchronously define and set file operation options using interactive widgets.</p>
<p>This method allows the user to configure file operation settings such as whether to delete files after processing, 
concatenate files, specify output format, and define the maximum file size. These options are displayed as interactive 
widgets, and the user can select their preferred values. Once the options are selected, the instance variables 
are updated with the new configurations.</p>
<p>Workflow:
- A dictionary <code>config</code> is initialized with the current values of key file operation settings (<code>delete_files</code>, 
<code>concat_files</code>, <code>output_format</code>, <code>file_size_mb</code>).
- An instance of <code>_SelectOptions</code> is created with this configuration, displaying the interactive widgets.
- The user's selections are awaited asynchronously using the <code>await</code> keyword, ensuring non-blocking behavior.
- Once the user makes selections, the corresponding instance variables (<code>delete_files</code>, <code>concat_files</code>, <code>output_format</code>, 
<code>file_size_mb</code>) are updated with the new values.
- A summary of the selected options is printed for confirmation.</p>
<p>Internal Async Function (<code>f</code>):
- The internal function <code>f</code> manages the asynchronous behavior, ensuring that the user can interact with the widget 
without blocking the main thread.
- After the user selects the options, the configuration is validated and applied to the class attributes.</p>
<p>Notes:
- This method uses <code>asyncio.ensure_future</code> to execute the async function <code>f</code> concurrently, without blocking other tasks.
- The <code>config</code> dictionary is updated with the new options chosen by the user.
- If no changes are made by the user, the original configuration remains.</p>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="c1"># Launch the options configuration process</span>
<span class="bp">self</span><span class="o">.</span><span class="n">define_options</span><span class="p">()</span>
</code></pre></div>
</details>      <p>Expected Outputs:
- Updates the instance variables based on user input:
    - <code>self.delete_files</code>: Whether to delete files after processing.
    - <code>self.concat_files</code>: Whether to concatenate files.
    - <code>self.output_format</code>: The output format of processed files (e.g., <code>.csv</code>, <code>.parquet</code>).
    - <code>self.file_size_mb</code>: Maximum file size (in MB) before splitting output files.</p>
<ul>
<li>Prints the selected options:<ul>
<li>Delete Files: True/False</li>
<li>Concatenate Files: True/False</li>
<li>Output Format: List of formats (e.g., <code>['.csv']</code>)</li>
<li>Output File Size: File size in MB (e.g., <code>500 MB</code>)</li>
</ul>
</li>
</ul>
<p>Raises:
- <code>ValueError</code>: If the selected options are invalid or conflict with other settings.</p>


<details class="example-output" open>
  <summary>Example Output</summary>
  <p>The following options were selected:
Delete Files: True
Concatenate Files: False
Output Format: ['.csv']
Output File Size: 500 MB</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.download_all" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_all</span><span class="p">(</span><span class="n">num_workers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.download_all" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Initiates downloading of all remote files using parallel processing.</p>
<p>This method starts a new process to download files based on the selected data product and table. 
It uses parallel processing if <code>num_workers</code> is specified, defaulting to <code>cpu_count() - 2</code> if not. 
The process is managed using the <code>fork</code> method, which is supported only on Unix systems.</p>
<p>Input Variables:
- <code>num_workers</code> (int, optional): Number of workers for parallel processing. Defaults to <code>cpu_count() - 2</code>.</p>
<p>Notes:
- This method requires the <code>fork</code> method for parallel processing, which is supported only on Unix systems.
- If <code>self._set_data_product</code> or <code>self._set_table</code> is <code>None</code>, the method will call <code>select_data()</code> to initialize them.
- Sets <code>self.delete_files</code> to <code>False</code> before starting the download process.
- Starts a new process using <code>multiprocessing.Process</code> to run the <code>process_all</code> method for downloading.
- Sets <code>self._download_finished</code> to <code>False</code> when starting the process, indicating that the download is in progress.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>self.download_all(num_workers=4)</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.get_column_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_column_names</span><span class="p">(</span><span class="n">save_to</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.get_column_names" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Retrieve column names from a DataFrame or dictionary and save them to a file.</p>
<p>Input Variables:
- <code>self</code>: Implicit reference to the instance.
- <code>save_to</code> (str, optional): Format to save results (default is CSV).
- <code>files</code> (list, optional): List of files to retrieve column names from.</p>
<p>Returns:
- List of column names or None if no valid source is provided.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.orbis_to_moodys" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">orbis_to_moodys</span><span class="p">(</span><span class="n">file</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.orbis_to_moodys" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Match headings from an Orbis output file to headings in Moody's DataHub.</p>
<p>This method reads headings from an Orbis output file and matches them to  headings 
in Moody's DataHub. The function returns a DataFrame with matched headings and a list of headings 
not found in Moody's DataHub.</p>
<p>Input Variables:
- <code>file</code> (str): Path to the Orbis output file.</p>
<p>Returns:
- tuple: A tuple where:
- The first element is a DataFrame containing matched headings.
- The second element is a list of headings that were not found.</p>
<p>Notes:
- Headings from the Orbis file are processed to remove any extra lines and to ensure uniqueness.
- The DataFrame is sorted based on the number of unique headings for each 'Data Product'.
- If no headings are found, an empty DataFrame is returned.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>matched_df, not_found_list = self.orbis_to_moodys('orbis_output.xlsx')</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.process_all" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_all</span><span class="p">(</span><span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">select_cols</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">date_query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bvd_query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">query_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pool_method</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.process_all" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Read and process multiple files into DataFrames with optional filtering and parallel processing.</p>
<p>This method reads multiple files into Pandas DataFrames, with options for selecting specific columns, 
applying filters, and performing parallel processing. It can handle file processing sequentially or 
in parallel, depending on the number of workers specified.</p>
<p>Input Variables:
- <code>files</code> (list, optional): List of files to process. Defaults to <code>self.remote_files</code>.
- <code>destination</code> (str, optional): Path to save processed files.
- <code>num_workers</code> (int, optional): Number of workers for parallel processing. Default is -1 (auto-determined).
- <code>select_cols</code> (list, optional): Columns to select from files. Defaults to <code>self._select_cols</code>.
- <code>date_query</code>: (optional): Date query for filtering data. Defaults to <code>self.time_period</code>.
- <code>bvd_query</code>: (optional): BVD query for filtering data. Defaults to <code>self._bvd_list[2]</code>.
- <code>query</code> (str, optional): Additional query for filtering data.
- <code>query_args</code> (list, optional): Arguments for the query.
- <code>pool_method</code> (optional): Method for parallel processing (e.g., 'fork', 'threading').</p>
<p>Returns:
- <code>dfs</code>: List of Pandas DataFrames with selected columns and filtered data.
- <code>file_names</code>: List of file names processed.</p>
<p>Notes:
- If <code>files</code> is <code>None</code>, the method will use <code>self.remote_files</code>.
- If <code>num_workers</code> is less than 1, it will be set automatically based on available system memory.
- Uses parallel processing if <code>num_workers</code> is greater than 1; otherwise, processes files sequentially.
- Handles file concatenation and deletion based on instance attributes (<code>concat_files</code>, <code>delete_files</code>).
- If <code>self.delete_files</code> is <code>True</code>, the method will print the current working directory.</p>
<p>Raises:
- <code>ValueError</code>: If validation of arguments (<code>files</code>, <code>destination</code>, etc.) fails.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>dfs, file_names = self.process_all(files=['file1.csv', 'file2.csv'], destination='/processed', num_workers=4,
                                select_cols=['col1', 'col2'], date_query='2023-01-01', query='col1 &gt; 0')</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.process_one" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_one</span><span class="p">(</span><span class="n">save_to</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_rows</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.process_one" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Retrieve a sample of data from a table and optionally save it to a file.</p>
<p>This method retrieves a sample of data from a specified table or file. If <code>files</code> is not provided, it uses
the default file from <code>self.remote_files</code>. It processes the files, retrieves the specified number of rows, 
and saves the result to the specified format if <code>save_to</code> is provided.</p>
<p>Input Variables:
- <code>save_to</code> (str, optional): Format to save the sample data (default is 'CSV'). Other formats may be supported based on implementation.
- <code>files</code> (list, optional): List of files to process. Defaults to <code>self.remote_files</code>. If an integer is provided, it is treated as a file identifier.
- <code>n_rows</code> (int, optional): Number of rows to retrieve from the data (default is 1000).</p>
<p>Returns:
- Pandas DataFrame: DataFrame containing the sample of the processed data.</p>
<p>Notes:
- If <code>files</code> is None, the method will use the first file in <code>self.remote_files</code> and may trigger <code>select_data</code> if data product or table is not set.
- The method processes all specified files or retrieves data from them if needed.
- Results are saved to the file format specified by <code>save_to</code> if provided.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>df = self.process_one(save_to='parquet', n_rows=500)</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.search_bvd_changes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_bvd_changes</span><span class="p">(</span><span class="n">bvd_list</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.search_bvd_changes" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Search for changes in BvD IDs based on the provided list.</p>
<p>This method retrieves changes in BvD IDs by processing the provided 
list of BvD IDs. It utilizes concurrent processing for efficiency 
and returns the new IDs, the newest IDs, and a filtered DataFrame 
containing relevant change information.</p>
      <p>bvd_list : list
    A list of BvD IDs to check for changes.</p>


<details class="num_workers-" open>
  <summary>int, optional</summary>
  <p>The number of worker processes to use for concurrent operations. 
If set to -1 (default), it will use the maximum available workers 
minus two to avoid overloading the system.</p>
</details>      <p>tuple
    A tuple containing:
        - new_ids: A list of newly identified BvD IDs.
        - newest_ids: A list of the most recent BvD IDs.
        - filtered_df: A DataFrame with relevant change information.</p>
<p>Examples:
new_ids, newest_ids, changes_df = obj.search_bvd_changes(['BVD123', 'BVD456'])</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.search_company_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_company_names</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">cut_off</span><span class="o">=</span><span class="mf">90.1</span><span class="p">,</span> <span class="n">company_suffixes</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.search_company_names" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Search for company names and find the best matches based on a fuzzy query.</p>
<p>This method performs a search for company names using fuzzy matching 
techniques, leveraging concurrent processing to improve performance. 
It processes the provided names against a dataset of firmographic data 
and returns the best matches based on the specified cut-off score.</p>
      <p>names : list
    A list of company names to search for.</p>


<details class="num_workers-" open>
  <summary>int, optional</summary>
  <p>The number of worker processes to use for concurrent operations.
If set to -1 (default), it will use the maximum available workers
minus two to avoid overloading the system.</p>
</details>

<details class="cut_off-" open>
  <summary>float, optional</summary>
  <p>The cut-off score for considering a match as valid. Default is 90.1.</p>
</details>

<details class="company_suffixes-" open>
  <summary>list, optional</summary>
  <p>A list of valid company suffixes to consider when searching for names. </p>
</details>      <p>pandas.DataFrame
    A DataFrame containing the best matches for the searched company names,
    including associated scores and other relevant information.</p>
<p>Examples:
results = obj.search_company_names(['Example Inc', 'Sample Ltd'], num_workers=4)</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.search_country_codes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_country_codes</span><span class="p">(</span><span class="n">search_word</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">search_cols</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Country&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;Code&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span></code>

<a href="#moodys_datahub.tools.Sftp.search_country_codes" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Search for country codes matching a search term.</p>
<p>Input Variables:
- <code>self</code>: Implicit reference to the instance.
- <code>search_word</code> (str, optional): Term to search for country codes.
- <code>search_cols</code> (dict, optional): Dictionary indicating columns to search (default is {'Country':True,'Code':True}).</p>
<p>Returns:
- Pandas Dataframe of country codes matching the search term</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.search_dictionary" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_dictionary</span><span class="p">(</span><span class="n">save_to</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">search_word</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">search_cols</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Data Product&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;Table&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;Column&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;Definition&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">letters_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">extact_match</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">data_product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.search_dictionary" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Search for a term in a column/variable dictionary and save results to a file.</p>
<p>Args:
- <code>self</code>: Implicit reference to the instance.
- <code>save_to</code> (str, optional): Format to save results. If False, results are not saved (default is False).
- <code>search_word</code> (str, optional): Search term. If None, no term is searched.
- <code>search_cols</code> (dict, optional): Dictionary indicating which columns to search. Columns are 'Data Product', 'Table', 'Column', and 'Definition' with default value as True for each.
- <code>letters_only</code> (bool, optional): If True, search only for alphabetic characters in the search term (default is False).
- <code>exact_match</code> (bool, optional): If True, search for an exact match of the search term. Otherwise, search for partial matches (default is False).
- <code>data_product</code> (str, optional): Specific data product to filter results by. If None, no filtering by data product (default is None).
- <code>table</code> (str, optional): Specific table to filter results by. If None, no filtering by table (default is None).</p>
<p>Returns:
- pandas.DataFrame: A DataFrame containing the search results. If no results are found, an empty DataFrame is returned.</p>
<p>Notes:
- If <code>data_product</code> is provided and does not match any records, a message is printed and an empty DataFrame is returned.
- If <code>table</code> is provided and does not match any records, it attempts to perform a case-insensitive partial match search.
- If <code>search_word</code> is provided and no matches are found, a message is printed indicating no results were found.
- If <code>letters_only</code> is True, the search term is processed to include only alphabetic characters before searching.
- If <code>save_to</code> is specified, the query results are saved in the format specified.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.select_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select_columns</span><span class="p">()</span></code>

<a href="#moodys_datahub.tools.Sftp.select_columns" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Asynchronously select and set columns for a specified data product and table using interactive widgets.</p>
<p>This method performs the following steps:
1. Checks if the data product and table are set. If not, it calls <code>select_data()</code> to set them.
2. Searches the dictionary for columns corresponding to the set data product and table.
3. Displays an interactive widget for the user to select columns based on their names and definitions.
4. Sets the selected columns to <code>self._select_cols</code> and prints the selected columns.</p>
<p>If no columns are found for the specified table, a <code>ValueError</code> is raised.</p>
<p>Args:
- <code>self</code>: Implicit reference to the instance.</p>
<p>Notes:
- This method uses <code>asyncio.ensure_future</code> to run the asynchronous function <code>f</code> which handles the widget interaction.
- The function <code>f</code> combines column names and definitions for display, maps selected items to their indices,
and then extracts the selected columns based on these indices.</p>
<p>Raises:
- <code>ValueError</code>: If no columns are found for the specified table.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>self.select_columns()</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.select_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select_data</span><span class="p">()</span></code>

<a href="#moodys_datahub.tools.Sftp.select_data" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Asynchronously select and set the data product and table using interactive widgets.</p>
<p>This method facilitates user interaction for selecting a data product and table from a backup of available tables.
It leverages asynchronous widgets, allowing the user to make selections and automatically updating instance attributes
for the selected data product and table. The selections are applied to <code>self.set_data_product</code> and <code>self.set_table</code>, 
which can be used in subsequent file operations.</p>
<p>Workflow:
- An instance of the <code>_SelectData</code> class is created, using <code>_tables_backup</code> to populate the widget options.
- Users select a data product and table through the interactive widget.
- The method validates the selected options and updates the instance's <code>set_data_product</code> and <code>set_table</code> attributes.
- If multiple data products match the selection, a list of options is displayed to the user for further refinement.
- The selected data product and table are printed to confirm the operation.</p>
<p>Internal Async Function (<code>f</code>):
- The method contains an internal asynchronous function <code>f</code> that handles the widget display and data selection.
- It uses the <code>await</code> keyword to ensure non-blocking behavior while the user interacts with the widget.
- The selected values are processed and validated before being assigned to the instance variables.</p>
<p>Notes:
- This method uses <code>asyncio.ensure_future</code> to ensure that the asynchronous function <code>f</code> runs concurrently without blocking other operations.
- If multiple matches for the selected data product are found, the user is prompted to further specify the data product.
- The method uses a copy of <code>_tables_backup</code> to preserve the original data structure during the filtering process.</p>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="c1"># Trigger the data selection process</span>
<span class="bp">self</span><span class="o">.</span><span class="n">select_data</span><span class="p">()</span>
</code></pre></div>
</details>      <p>Raises:
- <code>ValueError</code>: If no valid data product or table is selected after interaction.</p>
<p>Expected Outputs:
- Updates <code>self.set_data_product</code> and <code>self.set_table</code> based on user selections.
- Prints confirmation of the selected data product and table.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.table_dates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">table_dates</span><span class="p">(</span><span class="n">save_to</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">data_product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.table_dates" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Retrieve and save the available date columns for a specified data product and table.</p>
<p>This method performs the following steps:
1. Ensures that the available tables and table dates are loaded.
2. Filters the dates data by the specified data product and table, if provided.
3. Optionally saves the filtered results to a specified format.</p>
<p>Args:
- <code>self</code>: Implicit reference to the instance.
- <code>save_to</code> (str, optional): Format to save results. If False, results are not saved (default is False).
- <code>data_product</code> (str, optional): Specific data product to filter results by. If None, defaults to <code>self.set_data_product</code>.
- <code>table</code> (str, optional): Specific table to filter results by. If None, defaults to <code>self.set_table</code>.</p>
<p>Returns:
- pandas.DataFrame: A DataFrame containing the filtered dates for the specified data product and table. If no results are found, an empty DataFrame is returned.</p>
<p>Notes:
- If <code>data_product</code> is provided and does not match any records, a message is printed and an empty DataFrame is returned.
- If <code>table</code> is provided and does not match any records, it attempts to perform a case-insensitive partial match search.
- If <code>save_to</code> is specified, the query results are saved in the format specified.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>df = self.table_dates(save_to='csv', data_product='Product1', table='TableA')</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="moodys_datahub.tools.Sftp.tables_available" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tables_available</span><span class="p">(</span><span class="n">product_overview</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">save_to</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.Sftp.tables_available" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Retrieve and optionally save available SFTP data products and tables.</p>
<p>This method fetches the available data products and tables from the SFTP server. It can optionally 
save the results to a file in the specified format and reset the data if needed.</p>
<p>Input Variables:
- <code>product_overview</code> (str, optional): Overview of the data products to filter. Defaults to None.
- <code>save_to</code> (str, optional): Format to save the results (e.g., 'csv', 'xlsx'). Defaults to 'csv'.
- <code>reset</code> (bool, optional): Flag to force refresh and reset the data products and tables. Defaults to False.</p>
<p>Returns:
- Pandas DataFrame: DataFrame containing the available SFTP data products and tables.</p>
<p>Notes:
- If <code>reset</code> is <code>True</code>, the method will reset <code>_tables_available</code> to <code>_tables_backup</code>.
- Old exports may be deleted from the SFTP server based on conditions (e.g., large CPU count).
- The results are saved using the <code>_save_to</code> function.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>df = self.tables_available(product_overview='overview.xlsx', save_to='csv', reset=True)</p>
</details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="moodys_datahub.tools.fuzzy_query" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fuzzy_query</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">match_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">return_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cut_off</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">remove_str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#moodys_datahub.tools.fuzzy_query" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Perform fuzzy string matching with a list of input strings against a specific column in a DataFrame.</p>

    </div>

</div>



  </div>

    </div>

</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.indexes", "toc.follow", "search.suggest", "search.higlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>